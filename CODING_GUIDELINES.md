# コーディング規約

## 基本方針
- **後方互換性は考慮しない** - 最新の実装に集中する
- **モックやTODOは使用しない** - 完全な実装のみ
- **分かりやすい実装** - 可読性とメンテナンス性を重視
- **ユーザー命令のコメント化は不要** - コードで表現する

## Python コーディングスタイル

### 1. 命名規則
- **クラス名**: PascalCase (`AnomalyDetector`, `ImageManager`)
- **関数・変数名**: snake_case (`detect_anomaly`, `image_path`)
- **定数**: UPPER_SNAKE_CASE (`MAX_IMAGE_SIZE`, `DEFAULT_THRESHOLD`)
- **プライベートメンバ**: 先頭にアンダースコア (`_internal_method`)

### 2. インポート
- 標準ライブラリ、サードパーティ、ローカルの順で整理
- `from module import *` は使用しない
- 相対インポートは同一パッケージ内のみ使用

### 3. 型ヒント
- すべての関数に型ヒントを必須とする
- 戻り値の型も明示する
```python
def process_image(image_path: str, threshold: float = 0.5) -> dict[str, Any]:
    pass
```

### 4. エラーハンドリング
- 具体的な例外クラスを使用
- 汎用的な `Exception` は避ける
- エラーメッセージは具体的で分かりやすく

### 5. ログ出力
- 適切なログレベルを使用 (DEBUG, INFO, WARNING, ERROR)
- ログメッセージは動作状況が分かるように記述
- センシティブな情報はログに出力しない

### 6. ファイル構成
- 1ファイル1クラスを基本とする
- 関連する小さなクラスは同一ファイルに配置可能
- ファイル名はクラス名をsnake_caseに変換

### 7. ドキュメント
- パブリックメソッドにはdocstringを記述
- 複雑なロジックには適切なコメント
- READMEとドキュメントは実装と同期を保つ

### 8. テスト
- 単体テストは必須
- テストファイル名: `test_*.py`
- テストメソッド名: `test_*`
- テスト用コードはすべてtestsディレクトリに格納

### 9. 禁止事項
- モック・スタブの使用
- TODOコメントの残存
- 未実装のプレースホルダー
- ユーザー指示をコメントとして残すこと